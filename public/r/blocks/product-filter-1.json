{
  "name": "product-filter-1",
  "type": "registry:block",
  "dependencies": ["gsap", "@gsap/react"],
  "registryDependencies": ["https://paceui.com/r/gsap/flip-reveal", "input", "label", "select"],
  "files": [
    {
      "path": "product-filter/product-filter-1.tsx",
      "type": "registry:block",
      "target": "~/blocks/product-filter-1.tsx",
      "content": "\"use client\";\n\nimport { PlusIcon, XCircleIcon } from \"lucide-react\";\nimport { useCallback, useMemo, useState } from \"react\";\n\nimport { FlipReveal, FlipRevealItem } from \"@/components/gsap/flip-reveal\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n    Select,\n    SelectContent,\n    SelectGroup,\n    SelectItem,\n    SelectLabel,\n    SelectTrigger,\n    SelectValue,\n} from \"@/components/ui/select\";\n\ntype IProduct = {\n    sku: string;\n    image: string;\n    name: string;\n    category: string;\n    price: number;\n};\n\nconst products: IProduct[] = [\n    {\n        sku: \"TEE-WHT-CLSC\",\n        image: \"https://images.unsplash.com/photo-1696086152504-4843b2106ab4?q=80&w=300\",\n        name: \"Classic White Tee\",\n        category: \"Apparel\",\n        price: 20,\n    },\n    {\n        sku: \"GLS-WHT-RETRO\",\n        image: \"https://images.unsplash.com/photo-1648688135643-2716ec8f4b24?q=80&w=300\",\n        name: \"Retro White Shades\",\n        category: \"Eyewear\",\n        price: 30,\n    },\n    {\n        sku: \"SHO-TAN-STRAP\",\n        image: \"https://images.unsplash.com/photo-1631984564919-1f6b2313a71c?q=80&w=300\",\n        name: \"Tan Strap Sneakers\",\n        category: \"Footwear\",\n        price: 65,\n    },\n    {\n        sku: \"GLS-AVIATOR\",\n        image: \"https://images.unsplash.com/photo-1632168844625-b22d7b1053c0?q=80&w=300\",\n        name: \"Aviator Style Sunglasses\",\n        category: \"Eyewear\",\n        price: 40,\n    },\n    {\n        sku: \"TEE-BLK-JET\",\n        image: \"https://images.unsplash.com/photo-1583656346517-4716a62e27b7?q=80&w=300\",\n        name: \"Jet Black Tee\",\n        category: \"Apparel\",\n        price: 22,\n    },\n    {\n        sku: \"RUN-WHT-SLEEK\",\n        image: \"https://images.unsplash.com/photo-1596480370804-cff0eed14888?q=80&w=300\",\n        name: \"Sleek White Runners\",\n        category: \"Footwear\",\n        price: 75,\n    },\n    {\n        sku: \"SHIRT-BLU-CASL\",\n        image: \"https://images.unsplash.com/photo-1740711152088-88a009e877bb?q=80&w=300\",\n        name: \"Casual Blue Shirt\",\n        category: \"Apparel\",\n        price: 28,\n    },\n    {\n        sku: \"SNKRS-EVRDY\",\n        image: \"https://images.unsplash.com/photo-1696086152508-1711cc7bcc9d?q=80&w=300\",\n        name: \"Everyday Sneakers\",\n        category: \"Footwear\",\n        price: 60,\n    },\n    {\n        sku: \"GLS-CRYSTAL\",\n        image: \"https://images.unsplash.com/photo-1684790369514-f292d2dffc11?q=80&w=300\",\n        name: \"Crystal Frame Glasses\",\n        category: \"Eyewear\",\n        price: 35,\n    },\n    {\n        sku: \"DRS-RED-ELEGNT\",\n        image: \"https://images.unsplash.com/photo-1589810635657-232948472d98?q=80&w=300\",\n        name: \"Elegant Red Dress\",\n        category: \"Apparel\",\n        price: 50,\n    },\n    {\n        sku: \"LGG-RED-YOGA\",\n        image: \"https://images.unsplash.com/photo-1590159983013-d4ff5fc71c1d?q=80&w=300\",\n        name: \"Red Yoga Leggings\",\n        category: \"Activewear\",\n        price: 35,\n    },\n    {\n        sku: \"HPHN-PNK-BLSH\",\n        image: \"https://images.unsplash.com/photo-1617460237920-ea0b1bad4b0a?q=80&w=300\",\n        name: \"Blush Pink Headphones\",\n        category: \"Audio\",\n        price: 90,\n    },\n    {\n        sku: \"EARBDS-WIRELS\",\n        image: \"https://images.unsplash.com/photo-1614288064424-11d2d386c474?q=80&w=300\",\n        name: \"Wireless Earbuds\",\n        category: \"Audio\",\n        price: 60,\n    },\n    {\n        sku: \"WTCH-BRN-ANLG\",\n        image: \"https://images.unsplash.com/photo-1650779456233-fc579766337c?q=80&w=300\",\n        name: \"Analog Leather Watch\",\n        category: \"Accessories\",\n        price: 110,\n    },\n    {\n        sku: \"WTCH-APL-SMRT\",\n        image: \"https://images.unsplash.com/photo-1704942968209-6c1e05ef3f95?q=80&w=300\",\n        name: \"Smart Fitness Watch\",\n        category: \"Accessories\",\n        price: 150,\n    },\n];\n\nconst categories = [...new Set(products.map((item) => item.category))];\n\nconst ProductFilter1 = () => {\n    const [filter, setFilter] = useState({\n        search: \"\",\n        category: \"\",\n    });\n\n    const isEligible = useCallback(\n        (product: IProduct) => {\n            const search = filter.search?.toLowerCase() ?? \"\";\n            const category = filter.category;\n\n            const matchesSearch = search.length === 0 || product.name.toLowerCase().includes(search);\n            const matchesCategory = !category || product.category === category;\n\n            return matchesSearch && matchesCategory;\n        },\n        [filter],\n    );\n\n    const visibleProductKeys = useMemo(() => {\n        if (!filter.search && !filter.category) return [\"all\"];\n\n        return products.filter(isEligible).map((product) => product.sku);\n    }, [filter.category, filter.search, isEligible]);\n\n    return (\n        <div className=\"bg-background container min-h-280 py-4 sm:py-8 xl:py-16\">\n            <div className=\"flex flex-col items-center\">\n                <h2 className=\"text-2xl font-medium sm:text-3xl lg:text-4xl\">Browse Products</h2>\n                <p className=\"text-muted-foreground mt-1 max-w-md text-center max-sm:text-sm\">\n                    Find what you need by filtering through our selection of items across categories.\n                </p>\n            </div>\n            <div className=\"mt-4 flex gap-4 rounded-md sm:mt-8 lg:mt-12\">\n                <div className=\"max-lg:w-1/2 lg:w-50\">\n                    <Label>Search</Label>\n                    <Input\n                        placeholder=\"Search by name\"\n                        value={filter.search}\n                        className=\"w-full\"\n                        autoFocus\n                        onChange={(e) => setFilter({ ...filter, search: e.target.value })}\n                    />\n                </div>\n                <div className=\"max-lg:w-1/2 lg:w-50\">\n                    <Label>Category</Label>\n                    <Select value={filter.category} onValueChange={(e) => setFilter({ ...filter, category: e })}>\n                        <SelectTrigger className=\"w-full\">\n                            <SelectValue placeholder=\"Select a category\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                            <SelectGroup>\n                                <SelectLabel>Category</SelectLabel>\n                                {categories.map((item, index) => (\n                                    <SelectItem value={item} key={index}>\n                                        {item}\n                                    </SelectItem>\n                                ))}\n                            </SelectGroup>\n                        </SelectContent>\n                    </Select>\n                </div>\n            </div>\n            <div className=\"mt-4 lg:mt-6\">\n                <div className=\"flex items-center justify-between gap-2 max-sm:text-sm\">\n                    <span className=\"\">Hereâ€™s What We Found...</span>\n                    {visibleProductKeys[0] !== \"all\" && (\n                        <button\n                            className=\"text-muted-foreground hover:text-foreground flex cursor-pointer items-center gap-1.5\"\n                            onClick={() => setFilter({ search: \"\", category: \"\" })}>\n                            <XCircleIcon className=\"size-3.5\" />\n                            <span>Clear filter</span>\n                        </button>\n                    )}\n                </div>\n                {visibleProductKeys[0] === \"all\" || visibleProductKeys.length > 0 ? (\n                    <FlipReveal\n                        className=\"mt-3 grid grid-cols-2 gap-x-4 gap-y-6 sm:gap-x-6 sm:gap-y-8 md:grid-cols-3 lg:grid-cols-4 2xl:grid-cols-5\"\n                        keys={visibleProductKeys}\n                        showClass=\"flex\"\n                        hideClass=\"hidden\">\n                        {products.map((product) => (\n                            <FlipRevealItem flipKey={product.sku} key={product.sku}>\n                                <div className=\"group relative w-full cursor-pointer\">\n                                    <div className=\"bg-muted absolute -inset-2 scale-50 rounded-md opacity-0 transition-all group-hover:scale-100 group-hover:opacity-100\"></div>\n\n                                    <div className=\"relative\">\n                                        <div className=\"relative\">\n                                            <img\n                                                src={product.image}\n                                                alt={product.name}\n                                                className=\"h-32 w-full rounded-md object-cover sm:h-40 xl:h-50\"\n                                            />\n                                            <div className=\"bg-background absolute end-1 bottom-1 z-1 flex items-center gap-0.5 rounded px-1 py-0.5 text-xs opacity-0 transition-all group-hover:opacity-100\">\n                                                <PlusIcon className=\"size-3\" />\n                                                Add Item\n                                            </div>\n                                        </div>\n                                        <div className=\"mt-3 flex items-end justify-between gap-1\">\n                                            <div>\n                                                <p className=\"text-muted-foreground font-mono text-[10px]/none tracking-wider uppercase\">\n                                                    {product.category}\n                                                </p>\n                                                <p className=\"mt-1 line-clamp-1 leading-none font-medium max-sm:text-sm\">\n                                                    {product.name}\n                                                </p>\n                                            </div>\n                                            <p>\n                                                <sup className=\"text-muted-foreground\">$</sup>\n                                                <span className=\"text-xl font-medium\">{product.price}</span>\n                                            </p>\n                                        </div>\n                                    </div>\n                                </div>\n                            </FlipRevealItem>\n                        ))}\n                    </FlipReveal>\n                ) : (\n                    <div className=\"text-muted-foreground mt-12 text-center\">No products found</div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default ProductFilter1;\n"
    }
  ]
}
